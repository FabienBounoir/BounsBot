import "./_login.css";
import Avatar from "../../components/avatar/avatar";
import { Toaster, toast } from 'sonner'
import { useEffect } from "react";

export const Login = () => {

    useEffect(() => {
        //cehck si il y a une queyr param appelé error
        console.log(window.location.search)

        let status = new URLSearchParams(window.location.search).get('status')
        console.log(status)

        if (status == "invalidToken") {
            toast.error("Votre session a expiré. Veuillez vous reconnecter.", {
                duration: 10000,
            })
        }
        else if (status == "error") {
            toast.error("Une erreur est survenue. Veuillez réessayer", {
                duration: 10000,
            })
        }

        return () => {
            toast.dismiss()
        }

    }, [])

    return (
        <div className="container-logo">

            <Avatar classElement="width-logo-svg" />
            <p><strong>Bienvenue sur le site de Bouns'Bot !</strong><br />Connecte-toi pour continuer...</p>
            <a className="boutonConnection" href={process.env.REACT_APP_OAUTH2_LINK}>
                {/* <svg width="21" height="20" viewBox="0 0 21 20" fill="none" style={{ marginRight: "20px" }} xmlns="http://www.w3.org/2000/svg"><path d="M8.9485 8.6582C8.45993 8.6582 8.07422 9.07487 8.07422 9.5832C8.07422 10.0915 8.4685 10.5082 8.9485 10.5082C9.43708 10.5082 9.82279 10.0915 9.82279 9.5832C9.83136 9.07487 9.43708 8.6582 8.9485 8.6582ZM12.0771 8.6582C11.5885 8.6582 11.2028 9.07487 11.2028 9.5832C11.2028 10.0915 11.5971 10.5082 12.0771 10.5082C12.5656 10.5082 12.9514 10.0915 12.9514 9.5832C12.9514 9.07487 12.5656 8.6582 12.0771 8.6582Z" fill="white"></path> <path d="M17.4515 0H3.66863C2.51149 0 1.56006 0.916667 1.56006 2.05833V15.5833C1.56006 16.725 2.50292 17.6417 3.66863 17.6417H15.3343L14.7858 15.7917L16.1058 16.9833L17.3486 18.1L19.5601 20V2.05833C19.5601 0.916667 18.6172 0 17.4515 0ZM13.4829 13.0583C13.4829 13.0583 13.1143 12.625 12.8058 12.25C14.1515 11.8833 14.6658 11.0583 14.6658 11.0583C14.2458 11.325 13.8429 11.5167 13.4829 11.65C12.9686 11.8583 12.4715 12 11.9915 12.0833C11.0058 12.2667 10.0972 12.2167 9.32577 12.075C8.74291 11.9667 8.2372 11.8083 7.8172 11.6417C7.5772 11.55 7.32006 11.4417 7.06291 11.3C7.02863 11.2833 7.00291 11.2667 6.96863 11.25C6.95149 11.2417 6.93434 11.2333 6.92577 11.2167C6.7372 11.1167 6.63434 11.05 6.63434 11.05C6.63434 11.05 7.13149 11.85 8.43434 12.2333C8.12577 12.6167 7.74863 13.0667 7.74863 13.0667C5.4772 13 4.61149 11.55 4.61149 11.55C4.61149 8.33333 6.09434 5.71667 6.09434 5.71667C7.5772 4.63333 8.98291 4.66667 8.98291 4.66667L9.08577 4.78333C7.23434 5.3 6.3772 6.09167 6.3772 6.09167C6.3772 6.09167 6.60006 5.975 6.98577 5.8C8.08291 5.33333 8.9572 5.2 9.3172 5.16667C9.3772 5.15833 9.42863 5.15 9.48863 5.15C10.1143 5.06667 10.8258 5.05 11.5629 5.13333C12.5401 5.24167 13.5858 5.525 14.6572 6.09167C14.6572 6.09167 13.8429 5.34167 12.0943 4.825L12.2401 4.66667C12.2401 4.66667 13.6458 4.63333 15.1286 5.71667C15.1286 5.71667 16.6115 8.325 16.6115 11.55C16.6286 11.5417 15.7543 12.9917 13.4829 13.0583Z" fill="white"></path></svg> */}

                <svg width="22" height="22" style={{ marginRight: "20px" }} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.624 5.39694C18.2218 4.75037 16.7181 4.27399 15.1459 4.00114C15.1173 3.99588 15.0887 4.00905 15.0739 4.03537C14.8805 4.38103 14.6664 4.83196 14.5163 5.18639C12.8254 4.93197 11.1431 4.93197 9.48679 5.18639C9.33677 4.82407 9.11478 4.38103 8.92053 4.03537C8.90578 4.00992 8.87716 3.99676 8.84855 4.00114C7.27726 4.27312 5.7736 4.7495 4.37053 5.39694C4.35838 5.40222 4.34798 5.41098 4.34104 5.42239C1.48894 9.70454 0.707629 13.8814 1.09091 18.0065C1.09265 18.0267 1.10392 18.0461 1.11953 18.0582C3.00127 19.4471 4.82405 20.2902 6.61301 20.849C6.64163 20.8577 6.67197 20.8472 6.69019 20.8236C7.11336 20.2429 7.49058 19.6304 7.81403 18.9864C7.8331 18.9487 7.8149 18.9041 7.77587 18.889C7.17754 18.661 6.6078 18.3829 6.05976 18.0671C6.0164 18.0416 6.01293 17.9793 6.05282 17.9495C6.16816 17.8626 6.28349 17.7722 6.39362 17.681C6.41357 17.6643 6.44131 17.6609 6.46472 17.6714C10.0652 19.3234 13.9631 19.3234 17.521 17.6714C17.5445 17.66 17.5721 17.6635 17.593 17.6802C17.7032 17.7714 17.8185 17.8626 17.9347 17.9495C17.9746 17.9793 17.972 18.0416 17.9287 18.0671C17.3806 18.389 16.8109 18.661 16.2116 18.8882C16.1726 18.9031 16.1553 18.9487 16.1744 18.9864C16.5047 19.6296 16.882 20.2419 17.2973 20.8226C17.3146 20.8472 17.3458 20.8577 17.3745 20.849C19.1722 20.2902 20.9949 19.4471 22.8766 18.0582C22.8931 18.0461 22.9036 18.0276 22.9052 18.0074C23.364 13.2383 22.137 9.09569 19.6526 5.42326C19.6465 5.41099 19.6361 5.40222 19.624 5.39694ZM8.35167 15.4948C7.26772 15.4948 6.37454 14.4947 6.37454 13.2664C6.37454 12.0382 7.25038 11.0381 8.35167 11.0381C9.46164 11.0381 10.3461 12.047 10.3288 13.2664C10.3288 14.4947 9.45297 15.4948 8.35167 15.4948ZM15.6619 15.4948C14.5779 15.4948 13.6847 14.4947 13.6847 13.2664C13.6847 12.0382 14.5606 11.0381 15.6619 11.0381C16.7718 11.0381 17.6563 12.047 17.639 13.2664C17.639 14.4947 16.7718 15.4948 15.6619 15.4948Z" fill="white" />
                </svg>
                <span>Se connecter avec Discord</span>
            </a>


            <Toaster richColors expand={false} position="bottom-right" />
        </div>
    )
}